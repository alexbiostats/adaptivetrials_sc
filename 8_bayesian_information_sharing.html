<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Bayesian Information Sharing</title>

<script src="site_libs/header-attrs-2.27/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />
<link href="site_libs/academicons-1.9.1/css/academicons.css" rel="stylesheet" />

<link rel="icon" type="image/png" href="./files/favicon.ico"/>

<script type="text/javascript">
function setBrand() {
document.getElementsByClassName("navbar-brand")[0].href="https://www.alexkaizer.com";
}
window.onload = setBrand;
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Alex Kaizer</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Short Course
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="0_intro.html">Intro and Welcome</a>
    </li>
    <li>
      <a href="1_intro_clinical_trials.html">Basics of Clinical Trials</a>
    </li>
    <li>
      <a href="2_intro_bayesian.html">Bayesian 101</a>
    </li>
    <li>
      <a href="3_interim_monitoring.html">Interim Monitoring</a>
    </li>
    <li>
      <a href="4_sample_size_reestimation.html">Sample Size Re-Estimation</a>
    </li>
    <li>
      <a href="5_adaptive_enrichment.html">Adaptive Enrichment</a>
    </li>
    <li>
      <a href="6_treatment_arm_selection.html">Treatment Arm Selection</a>
    </li>
    <li>
      <a href="7_adaptive_randomization.html">Adaptive Randomization</a>
    </li>
    <li>
      <a href="8_bayesian_information_sharing.html">Bayesian Information Sharing</a>
    </li>
    <li>
      <a href="9_master_protocols.html">Master Protocols</a>
    </li>
    <li>
      <a href="10_seamless_designs.html">Seamless Designs</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:alex.kaizer@cuanschutz.edu">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://scholar.google.com/citations?user=ICpH74EAAAAJ&amp;hl=en">
    <span class="ai ai-google-scholar ai-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.alexkaizer.com/files/Alex_CV.pdf">
    <span class="ai ai-cv ai-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/alexbiostats">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/AlexBiostats">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/alex-kaizer/">
    <span class="fab fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Bayesian Information Sharing</h1>

</div>


<div id="overview" class="section level1">
<h1>Overview</h1>
<p>Clinical trials do not often occur out of thin air, oftentimes they
are an evolution across multiple phases of research across many
different populations. In many settings, we may have access to historic,
supplemental, or external data that we could incorporate directly into
our trial analysis beyond simply using them for a power calculation to
motivate the target sample size. In this module we introduce Bayesian
approaches to information sharing and discuss some of the strengths and
challenges of implementing these approaches that may allow you to enroll
fewer prospective participants and increase study power, albeit at a
risk of increased bias in some scenarios.</p>
</div>
<div id="slide-deck" class="section level1">
<h1>Slide Deck</h1>
<iframe class="speakerdeck-iframe" style="border: 0px; background: rgba(0, 0, 0, 0.1) padding-box; margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 315;" frameborder="0" src="https://speakerdeck.com/player/5a2ffc83655b4dafaae254de01753cd3" title="Bayesian Methods for Information Sharing" allowfullscreen="true" data-ratio="1.7777777777777777">
</iframe>
<p> </p>
<p>You can also download the <a
href="./files/Slides/8_bayesian_information_sharing.pptx">original
PowerPoint file</a>.</p>
</div>
<div id="code-examples-in-r" class="section level1">
<h1>Code Examples in R</h1>
<p>There has been a lot of recent growth in creating packages that make
information sharing methods accessible. Some options include:</p>
<ul>
<li><a
href="https://cran.rstudio.com/web/packages/basket/index.html"><code>basket</code></a>:
implements asymmetric multi-source exchangeability models (MEMs) for
basket trial designs where we wish to evaluate if pooling subgroups is
possible based on exchangeability, restricted to binary outcomes</li>
<li><a
href="https://cran.r-project.org/web/packages/RBesT/index.html"><code>RBesT</code></a>:
implements meta-analytic priors (MAPs) for information sharing across
multiple outcome types, lots of vignettes to demonstrate how to use the
package</li>
<li><a
href="https://cran.r-project.org/web/packages/BayesPPD/index.html"><code>BayesPPD</code></a>:
implements power priors and related methods for information sharing</li>
<li><a
href="https://cran.r-project.org/web/packages/psborrow/index.html"><code>psborrow</code></a>:
implements methods that combine propensity scores and Bayesian dynamic
borrowing methods</li>
</ul>
<div id="example-with-maps-and-rbest" class="section level2">
<h2>Example with MAPs and <code>RBesT</code></h2>
<p>The following example builds from a homework assignment I used in an
advanced clinical trials course. It focuses on <code>RBesT</code> and
implementing MAPs for a hypothetical study.</p>
<p>For the MAP-related questions, we will assume we have three
supplemental sources of data. Each source has <span
class="math inline">\(n=50\)</span> and <span
class="math inline">\(\sigma=20\)</span>:</p>
<pre class="r"><code>library(RBesT)

dat &lt;- data.frame(
  study = c(&#39;Study 1&#39;,&#39;Study 2&#39;,&#39;Study 3&#39;),
  n = c(50,50,50),
  y = c(5,7,15)
)

study_sigma &lt;- 20 # set common SD
dat$y.se &lt;- study_sigma / sqrt(dat$n)</code></pre>
<div
id="explore-different-specifications-of-the-half-normal-prior-for-tau"
class="section level3">
<h3>Explore different specifications of the half-normal prior for <span
class="math inline">\(\tau\)</span></h3>
<p>One of the great things about RBesT package is that they’ve provided
a wide range of possibilities to specify a prior on our between-study
variance, denoted <span class="math inline">\(\sigma^2_{\eta}\)</span>
in our van Rosmalen reading (2018) or <span
class="math inline">\(\tau\)</span> in the RBesT package. This includes
the default half-normal prior, but also truncated normal, uniform,
gamma, inverse gamma, log-normal, truncated Cauchy, exponential, and
fixed options!</p>
<p>For the purpose of this homework, we first want to fit the general
MAP prior with 3 different half-normal specifications (<span
class="math inline">\(\tau \sim HN(0,\sigma_{\tau})\)</span>):<br />
1. Prior <span class="math inline">\(\sigma_{\tau}\)</span> of
study_sigma / 2 = 10 (the prior used in the RBesT vignette for their
example, stored in object map_mcmc_tauHN)<br />
2. Prior <span class="math inline">\(\sigma_{\tau}\)</span> of
study_sigma x 10 = 200 (a larger prior value on the between-study
variability, stored in object map_mcmc_tauHNv2)<br />
3. Prior <span class="math inline">\(\sigma_{\tau}\)</span> of
study_sigma / 20 = 1 (a smaller prior value on the between-study
variability, stored in object map_mcmc_tauHNv3)</p>
<pre class="r"><code>### Derivation of MAP prior
## Half-normal tau prior with study_sigma/2
set.seed(1234) #set to ensure reproducibility of the MCMC estimate
map_mcmc_tauHN &lt;- gMAP(cbind(y, y.se) ~ 1 | study, 
                 weights=n,
                 data=dat,
                 family=gaussian,
                 beta.prior=cbind(0, study_sigma),
                 tau.dist=&quot;HalfNormal&quot;,
                 tau.prior=cbind(0,study_sigma/2))
print(map_mcmc_tauHN)</code></pre>
<pre><code>## Generalized Meta Analytic Predictive Prior Analysis
## 
## Call:  gMAP(formula = cbind(y, y.se) ~ 1 | study, family = gaussian, 
##     data = dat, weights = n, tau.dist = &quot;HalfNormal&quot;, tau.prior = cbind(0, 
##         study_sigma/2), beta.prior = cbind(0, study_sigma))
## 
## Exchangeability tau strata: 1 
## Prediction tau stratum    : 1 
## Maximal Rhat              : 1 
## Estimated reference scale : 20 
## 
## Between-trial heterogeneity of tau prediction stratum
##   mean     sd   2.5%    50%  97.5% 
##  6.380  4.160  0.684  5.550 17.100 
## 
## MAP Prior MCMC sample
##   mean     sd   2.5%    50%  97.5% 
##   8.53   9.22 -11.70   8.79  27.20</code></pre>
<pre class="r"><code>## Half-normal tau prior with study_sigma*10
set.seed(1234) #set to ensure reproducibility of the MCMC estimate
map_mcmc_tauHNv2 &lt;- gMAP(cbind(y, y.se) ~ 1 | study, 
                       weights=n,
                       data=dat,
                       family=gaussian,
                       beta.prior=cbind(0, study_sigma),
                       tau.dist=&quot;HalfNormal&quot;,
                       tau.prior=cbind(0,study_sigma*10))
print(map_mcmc_tauHNv2)</code></pre>
<pre><code>## Generalized Meta Analytic Predictive Prior Analysis
## 
## Call:  gMAP(formula = cbind(y, y.se) ~ 1 | study, family = gaussian, 
##     data = dat, weights = n, tau.dist = &quot;HalfNormal&quot;, tau.prior = cbind(0, 
##         study_sigma * 10), beta.prior = cbind(0, study_sigma))
## 
## Exchangeability tau strata: 1 
## Prediction tau stratum    : 1 
## Maximal Rhat              : 1 
## Estimated reference scale : 20 
## 
## Between-trial heterogeneity of tau prediction stratum
##  mean    sd  2.5%   50% 97.5% 
## 12.90 14.70  1.03  8.35 55.00 
## 
## MAP Prior MCMC sample
##   mean     sd   2.5%    50%  97.5% 
##   7.63  20.60 -35.10   8.33  44.30</code></pre>
<pre class="r"><code>## Half-normal tau prior with study_sigma/20
set.seed(1234) #set to ensure reproducibility of the MCMC estimate
map_mcmc_tauHNv3 &lt;- gMAP(cbind(y, y.se) ~ 1 | study, 
                       weights=n,
                       data=dat,
                       family=gaussian,
                       beta.prior=cbind(0, study_sigma),
                       tau.dist=&quot;HalfNormal&quot;,
                       tau.prior=cbind(0,study_sigma/20))
print(map_mcmc_tauHNv3)</code></pre>
<pre><code>## Generalized Meta Analytic Predictive Prior Analysis
## 
## Call:  gMAP(formula = cbind(y, y.se) ~ 1 | study, family = gaussian, 
##     data = dat, weights = n, tau.dist = &quot;HalfNormal&quot;, tau.prior = cbind(0, 
##         study_sigma/20), beta.prior = cbind(0, study_sigma))
## 
## Exchangeability tau strata: 1 
## Prediction tau stratum    : 1 
## Maximal Rhat              : 1 
## Estimated reference scale : 20 
## 
## Between-trial heterogeneity of tau prediction stratum
##  mean    sd  2.5%   50% 97.5% 
## 0.948 0.672 0.040 0.834 2.460 
## 
## MAP Prior MCMC sample
##  mean    sd  2.5%   50% 97.5% 
##  8.91  2.11  4.75  8.88 13.10</code></pre>
</div>
<div id="forest-plots-to-view-our-data" class="section level3">
<h3>Forest Plots to View Our Data</h3>
<p>One helpful way to understand the data and the impact of the MAP
prior is to graph it. The RBesT package include forest plots that are
easy to create from our gMAP objects saved above. Note: the default is
the lighter blue dashed line is the original data, the dark blue solid
line is the MAP estimate.</p>
<pre class="r"><code>## Plot forest plots
print( plot(map_mcmc_tauHN)$forest_model )</code></pre>
<p><img src="8_bayesian_information_sharing_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>print( plot(map_mcmc_tauHNv2)$forest_model )</code></pre>
<p><img src="8_bayesian_information_sharing_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
<pre class="r"><code>print( plot(map_mcmc_tauHNv3)$forest_model )</code></pre>
<p><img src="8_bayesian_information_sharing_files/figure-html/unnamed-chunk-3-3.png" width="672" /></p>
</div>
<div
id="converting-the-estimated-map-from-the-mcmc-into-a-parametric-approximation-for-use-in-later-steps"
class="section level3">
<h3>Converting the estimated MAP from the MCMC into a parametric
approximation for use in later steps</h3>
<p>The gMAP objects that were estimated given our different priors above
were estimated using the MCMC chains fit with rstan. However, to apply
these estimates in the process of estimating our trial performance we
need to approximate the MAP in some (parametric) way. Within RBesT we
can achieve this by using the automixfit function, which takes our MCMC
output for the object and uses an expectation-maximization (EM)
algorithm to estimate a parametric mixture of different components.</p>
<p>We can also note that RBesT includes a function to visualize the
mixtures:</p>
<pre class="r"><code>## Approximation of MAP Prior using a mixture distribution
map &lt;- automixfit(map_mcmc_tauHN)
mapv2 &lt;- automixfit(map_mcmc_tauHNv2)
mapv3 &lt;- automixfit(map_mcmc_tauHNv3)

print(map)</code></pre>
<pre><code>## EM for Normal Mixture Model
## Log-Likelihood = -14041.76
## 
## Univariate normal mixture
## Reference scale: 20
## Mixture Components:
##   comp1      comp2      comp3     
## w  0.4884107  0.4625307  0.0490586
## m  8.9697909  8.3180233  6.0787268
## s  3.7118243 10.3381879 24.0664794</code></pre>
<pre class="r"><code>print(mapv2)</code></pre>
<pre><code>## EM for Normal Mixture Model
## Log-Likelihood = -16253.76
## 
## Univariate normal mixture
## Reference scale: 20
## Mixture Components:
##   comp1       comp2       comp3       comp4      
## w  0.38367072  0.33720288  0.23881644  0.04030997
## m  8.51390751  8.48768978  6.97075811 -4.13223612
## s  4.28683959 10.91393632 25.08149588 73.81527800</code></pre>
<pre class="r"><code>print(mapv3)</code></pre>
<pre><code>## EM for Normal Mixture Model
## Log-Likelihood = -8626.03
## 
## Univariate normal mixture
## Reference scale: 20
## Mixture Components:
##   comp1     comp2    
## w 0.5375988 0.4624012
## m 8.8567284 8.9741893
## s 1.5686685 2.6002141</code></pre>
<pre class="r"><code># Check accuracy of mixture fits
plot(map)$mix</code></pre>
<p><img src="8_bayesian_information_sharing_files/figure-html/automix-chunk-1.png" width="672" /></p>
<pre class="r"><code>plot(mapv2)$mix</code></pre>
<p><img src="8_bayesian_information_sharing_files/figure-html/automix-chunk-2.png" width="672" /></p>
<pre class="r"><code>plot(mapv3)$mix</code></pre>
<p><img src="8_bayesian_information_sharing_files/figure-html/automix-chunk-3.png" width="672" /></p>
</div>
<div id="the-effective-sample-size-of-each-prior"
class="section level3">
<h3>The effective sample size of each prior</h3>
<p>As our final stop in comparing the performance of different prior
specifications on <span class="math inline">\(\tau\)</span> we can
examine the resulting effective sample size that would be imparted by
the differing choices of our prior. Interestingly, there are multiple
methods one can use in calculating the contribution of a given prior.
The RBesT package has the functionlity to estimate three: elir, moment,
or morita. The elir method is the expected local information ratio
proposed by Neuenschwander et al. in a paper under review and is the
default method. The method approaches utilizes the mean and SD of the
mixture which are then approximated by conjugate distributions with the
same mean and SD. Finally, morita is a method proposed by Morita that
utilizes the mode instead of the mean.</p>
<pre class="r"><code>## Effective Sample Size (ESS)
round(ess(map)) #default elir method</code></pre>
<pre><code>## [1] 10</code></pre>
<pre class="r"><code>round(ess(mapv2)) #default elir method</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>round(ess(mapv3)) #default elir method</code></pre>
<pre><code>## [1] 95</code></pre>
</div>
</div>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>Below are some references to highlight based on the slides and
code:</p>
<ul>
<li><p><a
href="https://www.fda.gov/regulatory-information/search-fda-guidance-documents/adaptive-design-clinical-trials-drugs-and-biologics-guidance-industry">FDA
Adaptive Design Clinical Trials for Drugs and Biologics Guidance for
Industry Guidance Document</a>: FDA guidance document on adaptive trial
elements</p></li>
<li><p><a
href="https://www.cambridge.org/core/journals/journal-of-clinical-and-translational-science/article/practical-guide-to-adopting-bayesian-analyses-in-clinical-research/CF6C017318CD5431C98EEFE37DBB6063?utm_campaign=shareaholic&amp;utm_medium=copy_link&amp;utm_source=bookmark">A
practical guide to adopting Bayesian analyses in clinical research</a>:
2024 tutorial paper exploring the Bayesian approach to statistics and
how to apply the methods for clinical trials</p></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
